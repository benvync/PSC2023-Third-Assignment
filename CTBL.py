from ete3 import Tree

def extract_splits_from_tree(Newick_Tree):
    TREE = Tree(Newick_Tree, format=1)
    Taxa = sorted([leaf.name for leaf in TREE.iter_leaves()])

    Character_Table = []

    for leaf in TREE.iter_leaves():
        split = ['1' if leaf.name == t else '0' for t in Taxa]
        Character_Table.append(''.join(split))

    return Character_Table
Newick_Tree = "((((Abantias_coelestis,((Apus_giganteus,Opheodrys_variegatus),Phrynops_guangxiensis)),(Aythia_novaeguineae,Bradypodion_godlewskii)),Alectoris_zenobia),((((Acanthosaura_monedula,((Alauda_battersbyi,(((((Asthenodipsas_alterna,(Charadrius_pedo,Oligodon_lagopus)),Upupa_chamaeleontinus),((((Cynops_exanthematicus,(((Elaphe_canagica,Hirundo_marmorata),(Larus_marinus,Nhandu_arenarius)),Leiolepis_erythronota)),Mabuya_paganus),Telescopus_aceras),Pareas_major)),Salmo_rubicola),Underwoodisaurus_apollo)),Pelusios_avicularia)),Scaphiophryne_galericulata),Lampropeltis_insignis),((((Allactaga_constricticollis,(Apalone_glareola,(Leptobrachium_cristata,(Limosa_heterolepidotus,Tetrao_musicus)))),Nucifraga_carolinensis),(((Almo_insignis,(Buteo_turneri,Nyctaalus_savignii)),Aythia_tarandus),(Damon_mackloti,((Scolopax_atthis,Uroplatus_olivacea),Teratolepis_perdix)))),Chrysemys_kopsteini)),((((((((((((((((((((Accipiter_standingii,Equus_leucocephala),(Ameiva_vulgaris,Lampropeltis_garmani)),Siniperca_pygmaeus),((((Apus_quinquetaeniata,Sceloporus_virgo),((((((Balaenoptera_gigas,(Holodactylus_manul,Phrynohyas_soloensis)),Tetrao_arizonensis),((((Boa_eximia,((Hyla_similis,Porzana_xanthocheilus),Pterocles_nigra)),(Bubulcus_teguixin,(Pelomedusa_similis,Perdix_salei))),Limnaeus_arenarius),(Nemorhaedus_capra,Psammophis_teguixin))),(Corytophanes_ocellatus,Cynops_leucomelas)),(Chelodina_hendricksoni,Podoces_aegyptia)),Parus_pusilla)),Myotis_lasiopterus),Cuora_lasiopterus)),Rhynchophis_coelestis),((((Balaena_acuta,Cyclemys_caesius),Megaloperdix_cinereus),Tetrao_olivacea),(Marmota_similis,Querquedula_prominanus))),(Coturnix_armata,Psammophis_gecko)),Citharacanthus_uluguruensis),(Heteroscodra_tuberculosus,Lycaenopsis_doctus)),Gonocephalus_calamita),(((((((((((((((((Allobates_gemmicincta,Philothamnus_peregrinus),Aythya_perdix),Trionyx_adamsii),Bombycilla_taxus),(((Almo_eremita,(Oenanthe_smithii,Salamandra_leiosoma)),Megophrys_brandtii),Synthliboramphus_canorus)),Pica_weberi),(Aplopeltura_gemmicincta,Ingerophrynus_albertisii)),(Chlamydotis_scutulata,Enhudra_miliaris)),(Arctomys_terrestris,(((Bombina_pulchripes,Dendrelaphis_subniger),Emberiza_grupus),(Leptopelis_agama,Remiz_sepsoides)))),Grammostola_rapax),Dasypeltis_armata),Trachemys_arizonensis),((Eunectes_rufinus,Zosterops_deminutus),Pusa_anachoreta)),Eumeces_caudatus),(Camptoloma_punctatus,Ortigometra_molurus)),Triturus_carbonaria),Dipus_perdix)),Tropidurus_holbrooki),(Monodon_moschata,crecca_aegyptia)),((Arctomys_nippon,(((((Arctomys_yeltoniensis,Hyla_rutilans),((Eutamias_eximia,Thamnophis_seemani),(Madagascarophis_minutus,Pterinochilus_lividum))),((Bradyporus_scincus,Hydrochelidon_stellatum),(Pandion_cyanus,Pyrgilauda_agama))),(Norops_emilia,Porphyrio_taezanowskyi)),Aythia_clinatus)),((Brachypelma_turneri,Crotaphytus_aureola),Cardiocranius_triangulum))),(((((((((((((Allactaga_pictus,Phrynocephalus_plathyrhychos),Lyrurus_jacksoni),Equus_subruficollis),Dryobates_sauritus),(Holaspis_riparia,Hyperoodon_karelini)),Synthliboramphus_virgo),(((((Kassina_karelini,Madagascarophis_emarginatus),Lampropeltis_bukhunensis),(Kassina_pictus,Mesoplodon_sagrei)),Streptopelia_ferrumequinum),Porzana_bicinctores)),Tadorna_albicilla),(Ophisops_variegatus,Plethodon_xanthocheilus)),Chalcides_comicus),Eudrornias_plathyrhychos),((((Almo_macrops,Vanellus_variegatus),Bronchocela_longicollis),Philomachus_leucomelas),Crocodylus_euptilura)),Philomachus_glacialis)),Hydrochelidon_fissipes),Gyps_guttata),(Nemorhaedus_jaspidea,Rhesus_cinaedus)),((Cuon_parvus,Numenius_sauritus),Tryngites_taxispilota)),Arctomys_ichthyaetus));"

resultS = extract_splits_from_tree(Newick_Tree)

for row in resultS:
    print(row)
